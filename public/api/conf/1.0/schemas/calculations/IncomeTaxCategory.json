{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "properties": {
    "totalAmount": {
      "$ref": "MonetaryPos.json",
      "description": "Total amount of income tax relating to pay, pensions and profit"
    },
    "taxableIncome": {
      "$ref": "MonetaryPos.json",
      "description": "Total amount of taxable income relating to pay, pensions and profit"
    },
    "band": {
      "$ref": "#/definitions/bandArray",
      "description": "An array of tax band data for pay, pensions and profit"
    }
  },
  "required": [
    "totalAmount",
    "taxableIncome",
    "band"
  ],
  "additionalProperties": false,
  "definitions": {
    "bandArray": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "description": "The name of the Tax band",
            "type": "string"
          },
          "rate": {
            "$ref": "Percent.json",
            "description": "The Tax band rate expressed as a percentage"
          },
          "threshold": {
            "$ref": "WholePounds.json",
            "description": "The upper threshold of the band"
          },
          "apportionedThreshold": {
            "$ref": "WholePounds.json",
            "description": "The apportioned upper threshold of the band"
          },
          "income": {
            "$ref": "MonetaryPos.json",
            "description": "Income attributed to the tax band"
          },
          "taxAmount": {
            "$ref": "MonetaryPos.json",
            "description": "The calculated amount of income tax for the band (bandIncome x bandRate)"
          }
        },
        "required": [
          "name",
          "rate",
          "income",
          "taxAmount"
        ],
        "additionalProperties": false
      }
    }
  }
}