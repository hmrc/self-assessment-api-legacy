{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "properties": {
    "calcName": {
      "description": "The logical name of the calculator (e.g. meta data from the calculator)",
      "type": "string",
      "minLength": 1,
      "maxLength": 32
    },
    "calcVersion": {
      "description": "The version number of the calculation (meta data from the calculator)",
      "type": "string",
      "minLength": 1,
      "maxLength": 10
    },
    "calcVersionDate": {
      "$ref": "DateString.json",
      "description": "Date the calculator version became active (meta data from the calculator)"
    },
    "calcID": {
      "$ref": "CalcId.json",
      "description": "The calculation ID â€“ an 8 digit number with leading zeros that is unique to the identifier in the calculation input"
    },
    "sourceName": {
      "description": "The name of the source system that requested the calculation",
      "type": "string",
      "minLength": 1,
      "maxLength": 32
    },
    "sourceRef": {
      "description": "Internal reference from source system (for traceability purposes)",
      "type": "string",
      "minLength": 1,
      "maxLength": 32
    },
    "identifier": {
      "description": "Identifies the entity for whom the calculation was performed (as supplied in calculation request)",
      "type": "string",
      "minLength": 1,
      "maxLength": 16
    },
    "year": {
      "description": "This identifies the Tax Year to which the calculation relates in the format yyyy. NB. this is the ending year (e.g. Tax Year 2017-2018 would be expressed as 2018)",
      "type": "number",
      "minimum": 2016,
      "maximum": 2099
    },
    "periodFrom": {
      "$ref": "DateString.json",
      "description": "This defines the earliest point from which the calculation was performed. This will be the Accounting period start date (for self-employments) or the tax year start date, whichever occurs first."
    },
    "periodTo": {
      "$ref": "DateString.json",
      "description": "This defines the latest point to which the calculation was performed and will be the point in the year to which income has been received."
    },
    "calcAmount": {
      "$ref": "MonetaryPosNeg.json",
      "description": "The high level calculated amount.  For Income Tax this is the year to date total amount of Income Tax and national Insurance."
    },
    "calcTimestamp": {
      "$ref": "TimestampString.json",
      "description": "Timestamp of when the calculation was performed"
    },
    "calcResult": {
      "$ref": "CalcResult.json",
      "description": "An object containing the calculated result (this will be bespoke to the calcName)"
    }
  },
  "required": [
    "calcName",
    "calcVersion",
    "calcVersionDate",
    "calcID",
    "sourceName",
    "sourceRef",
    "identifier",
    "year",
    "periodFrom",
    "periodTo",
    "calcAmount",
    "calcTimestamp",
    "calcResult"
  ],
  "additionalProperties": false
}